DATABASE_URL=postgresql+asyncpg://user:password@localhost/dbname
OPENAI_API_KEY=sk-...
SECRET_KEY=your-secret-key
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Cohere (Rerank)
COHERE_API_KEY=
RAG_COHERE_RERANK_MODEL=rerank-english-v3.0
RAG_RETRIEVE_TOPK_KNOWLEDGE=30
RAG_RETRIEVE_TOPK_PRODUCT=20
RAG_RERANK_TOPN=5
RAG_RERANK_MIN_SCORE=0.05
RAG_RERANK_MIN_SCORE_COUNT=2
RAG_MAX_DOC_CHARS_FOR_RERANK=700
RAG_MAX_CHUNK_CHARS_FOR_CONTEXT=1200
RAG_ANSWER_MODEL=gpt-4o-mini
RAG_VERIFY_MODEL=gpt-4o-mini
RAG_DECOMPOSE_MODEL=gpt-4o-mini
RAG_DECOMPOSE_MAX_SUBQUESTIONS=8
RAG_MAX_SUB_QUESTIONS=4
RAG_PER_QUERY_KEEP=1
RAG_VERIFY_MAX_KNOWLEDGE_CHUNKS=12

# Semantic cache (pgvector)
SEMANTIC_CACHE_ENABLED=true
SEMANTIC_CACHE_THRESHOLD=0.96
SEMANTIC_CACHE_TTL_DAYS=7

# Product carousel
PRODUCT_SEARCH_TOPK=10
PRODUCT_SEARCH_DISTANCE_THRESHOLD=0.35
PRODUCT_EMBEDDING_MODEL=text-embedding-3-small
PRODUCT_DISTANCE_STRICT=0.35
PRODUCT_DISTANCE_LOOSE=0.45
PRICE_DISPLAY_CURRENCY=USD
THB_TO_USD_RATE=1.0
BASE_CURRENCY=USD
# Rates are interpreted as: 1 BASE_CURRENCY = X units of that currency (e.g., 1 USD = 35 THB)
CURRENCY_RATES_JSON={"THB":35.0,"EUR":0.92}

# Smalltalk / low-signal routing
SMALLTALK_ENABLED=true
SMALLTALK_MODE=static
SMALLTALK_MODEL=gpt-4o-mini
GENERAL_CHAT_MODEL=gpt-4o-mini
GENERAL_CHAT_MAX_TOKENS=250
PRODUCT_WEAK_DISTANCE=0.55
KNOWLEDGE_WEAK_DISTANCE=0.60

# Answer polisher (rewrite-only, optional)
ANSWER_POLISHER_ENABLED=false
ANSWER_POLISHER_MODEL=gpt-4o-mini
ANSWER_POLISHER_MAX_TOKENS=200

# Logging
LOG_DIR=logs
DEBUG_LOG_FILE=debug.log

# Supabase Configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-anon-key
SUPABASE_SERVICE_KEY=your-service-role-key

# ngrok (optional - for tunneling localhost to a public URL)
# Paste your token here. If ngrok.exe isn't on PATH, set NGROK_EXE to the full path.
NGROK_AUTHTOKEN=
NGROK_EXE=
NGROK_BACKEND_PORT=8000
NGROK_FRONTEND_PORT=5173

# Local HTTPS (optional)
SSL_CERTFILE=
SSL_KEYFILE=
